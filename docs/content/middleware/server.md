---
date: 2016-10-15T19:27:03-04:00
title: Server
---

## Introduction

This module is responsible for managing life cycle of the embedded Undertow core http server. It starts the
server and initializes all middleware plugins along with route handler providers. It stops the server and
allow the resources to be released even someone click ctrl+c.



## Middleware

Middleware plugins are the key components in the framework as they perform the heavy lifting behind the
scene. These components address the cross cutting concerns for all API implementation so that API developers
can focus on their domain logic only. Each component will have a config file (same name but with .json ext)
to control if the component will be enabled and its behavior. The framework has provide a list of the 
middleware plugins and experience developers can add other plugins into the request/response chain.

To add your own middleware plugins, update com.networknt.handler.MiddlewareHandler in 
your API project folder src/main/resources/META-INF/services

Here is the default middleware configuration generated by [swagger-codegen](https://github.com/networknt/swagger-codegen)

```
# This file is generated and should not be changed unless you want to plug in more handlers into the handler chain
# for cross cutting concerns. In most cases, you should replace some of the default handlers with your own implementation
# Please note: the sequence of these handlers are very important.

#Validator
com.networknt.validator.ValidatorHandler
#FullAudit
com.networknt.audit.FullAuditHandler
#SimpleAudit
com.networknt.audit.SimpleAuditHandler
#Body
com.networknt.body.BodyHandler
#Security
com.networknt.security.JwtVerifyHandler
#Swagger
com.networknt.swagger.SwaggerHandler
#Metrics
com.networknt.metrics.MetricsHandler
#Exception
com.networknt.exception.ExceptionHandler


```


## Route Provider

[swagger-codegen](https://github.com/networknt/swagger-codegen) generates all the handlers and corresponding
test cases based on OpenAPI specification. It also generate PathHandlerProvider to group these handlers
together. This class is loaded by the server via Java SPI. The config file 
com.networknt.server.HandlerProvider can be found at /src/main/resources/META-INF/services

Here is an example of the config.

```
io.swagger.handler.PathHandlerProvider

```

## Configuration

server.json is the configuration file for this module. To make it simpler, it only ip and port are
configurable at the moment. Other server parameters are set for the best performance assuming clould
deployment. In the future, these parameters might be exposed in the server.json.

Here is an exmaple of server.json

```
{
  "description": "server config",
  "ip": "localhost",
  "port": 8080
}

```